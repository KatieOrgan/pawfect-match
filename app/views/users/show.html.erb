<div class="d-flex align-items-center justify-content-center">
  <h1><strong>Welcome <%= @user.first_name %>!</strong></h1>
</div>

<div class="card-container">
  <div class="cards">

    <div class="card-profile-details">
      <h2>Your Profile Details</h2>
      <p><strong>Username:</strong> <%= @user.username %></p>
      <p><strong>Email:</strong> <%= @user.email %></p>
      <p><strong>First Name:</strong> <%= @user.first_name %></p>
      <p><strong>Last Name:</strong> <%= @user.last_name %></p>
      <% if @user.bio.present? %>
        <p><strong>Bio:</strong> <%= @user.bio %></p>
      <% end %>
      <% if @user.profile_pic_url.present? %>
        <p><strong>Profile Picture:</strong></p>
        <%= image_tag @user.profile_pic_url, alt: "#{@user.first_name}'s Profile Picture", class: "profile-pic" %>
      <% end %>
    </div>

    <div class="card-user-form">
      <%= simple_form_for(@user) do |f| %>
        <%= f.input :profile_pic_url, as: :file, label: 'Profile Picture' %>
        <%= f.input :bio, label: 'Bio' %>
        <%= label_tag :is_owner, 'Are you a pet owner? [Only click yes if you are registering a pet to be available for bookings!]' %><br>
        <%= f.radio_button :is_owner, true %> Yes
        <%= f.radio_button :is_owner, false %> No
        <br>
        <%= f.submit %>
      <% end %>
    </div>

    <div class="card-user-pets">
      <h2>Your Pets</h2>
      <% if @user.pets.any? %>
        <ul>
          <% @user.pets.each do |pet| %>
            <li>
              <h3><%= pet.pet_name %></h3>
              <p><strong>Breed:</strong> <%= pet.breed %></p>
              <p><strong>Age:</strong> <%= pet.age %> years</p>
              <p><strong>Description:</strong> <%= pet.description %></p>
              <% if pet.pet_photo.present? %>
                <%= image_tag pet.pet_photo, alt: "#{pet.pet_name}", class: "pet-photo" %>
              <% end %>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p>You have no pets yet.</p>
      <% end %>
    </div>

    <div class="card-user-bookings">
      <h2>Your Bookings</h2>
      <% if @user.bookings.any? %>
        <table class="table">
          <thead>
            <tr>
              <th>Pet Name</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <% @user.bookings.each do |booking| %>
              <tr>
                <td><%= booking.pet.pet_name %></td>
                <td><%= booking.start_date %></td>
                <td><%= booking.end_date %></td>
                <td><%= booking.status %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p>You have no bookings yet.</p>
      <% end %>
    </div>
  </div>
</div>
